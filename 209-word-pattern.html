<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>290. Word Pattern</title>
</head>
<body>
<p>
    Given a pattern and a string str, find if str follows the same pattern.
    <br/>
    Here follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in
    str.
    <br/>
    Examples:
    <br/>
    pattern = "abba", str = "dog cat cat dog" should return true.
    <br/>
    pattern = "abba", str = "dog cat cat fish" should return false.
    <br/>
    pattern = "aaaa", str = "dog cat cat dog" should return false.
    <br/>
    pattern = "abba", str = "dog dog dog dog" should return false.
    <br/>
    Notes:
    <br/>
    You may assume pattern contains only lowercase letters, and str contains lowercase letters separated by a single
    space.
</p>
<script>
    /**
     * @param {string} pattern
     * @param {string} str
     * @return {boolean}
     */
    var wordPattern = function (pattern, str) {
        var mapA = [], mapB = [];
        var arrA = [], arrB = [];
        var i;
        for (i = 0; i < pattern.length; i++) {
            if (mapA.indexOf(pattern[i]) === -1) {
                mapA.push(pattern[i]);
            }
            arrA.push(mapA.indexOf(pattern[i]));
        }
        var strArr = str.split(' ');
        for (i = 0; i < strArr.length; i++) {
            if (mapB.indexOf(strArr[i]) === -1) {
                mapB.push(strArr[i]);
            }
            arrB.push(mapB.indexOf(strArr[i]));
        }
        console.log('mapA = ' + JSON.stringify(mapA));
        console.log('arrA = ' + JSON.stringify(arrA));
        console.log('mapB = ' + JSON.stringify(mapB));
        console.log('arrB = ' + JSON.stringify(arrB));

        /**
         * 判断数组是否相等（简单数组）
         * @param arrA
         * @param arrB
         */
        function isArrayEqual(arrA, arrB) {
            return JSON.stringify(arrA) === JSON.stringify(arrB);
        }

        // 判断arrA和arrB是否相等
        return isArrayEqual(arrA, arrB);
    };

    var pattern = "abba", str = "dog cat cat dog";
    console.log(wordPattern(pattern, str));

</script>
</body>
</html>